#   Refer for explanation to following link:
#   https://github.com/evilmartians/lefthook/blob/master/docs/configuration.md
#
#commit-msg:
#  commands:
#    commitlint:
#      run: yarn run commitlint --edit "{1}"
pre-commit:
  parallel: true
  commands:
    eslint:
      tags: frontend
      glob: "resources/**/*.js"
      run: yarn run eslint --fix {staged_files}
      stage_fixed: true
    prettier:
      tags: frontend
      glob: "resources/**/*.{css,js}"
      run: yarn run prettier --write {staged_files}
      stage_fixed: true
    rector:
      tags: backend
      glob: "*.php"
      run: docker compose -f docker-compose.yml exec -T app composer run-script rector-fix {staged_files}
      stage_fixed: true
    pint:
      tags: backend
      glob: "*.php"
      run: docker compose -f docker-compose.yml exec -T app composer run-script pint {staged_files}
      stage_fixed: true
